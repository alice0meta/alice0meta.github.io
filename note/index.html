<!DOCTYPE html><html><head><meta charset="utf-8">
	<title>note</title>
	<style>
		body{ ;background-color:#2a2626 ;color:#e8e8e8 ;font-family:sans-serif ;font-size:13px }
		a:visited {color: #bb7f00;}
		a:hover, a:active, a:focus {color: #eeeeee;}
		a {color: #ffb200; text-decoration: none;}

		#note {margin:20px; font-size:200%; display:block; width:calc(100% - 40px); height:735px; resize:none; background-color:inherit; color:inherit; border:none; outline:none; line-height:125%; font-family: sans-serif;}
	</style>
	<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
</head><body>
	<textarea id="note" autofocus></textarea>
</body></html>
<script>

var _u = _
var print = console.log.bind(console)
Object.defineProperty(Array.prototype,'_u',{get:function(){return _u(this)}, configurable:true})

$.on_view = function(f){document.addEventListener('visibilitychange',function(){ if(! document.hidden ) f() })}
$.on_away = function(f){document.addEventListener('visibilitychange',function(){ if( document.hidden ) f() })}

// ---------------------------------- body ---------------------------------- //
var hash = decodeURIComponent(location.hash.replace(/^#/,''))//.replace(/\+/g,' '))

$('#note').val(hash)
var set_hash = _u(function(){
	hash = $('#note').val()
	document.title = hash || 'note'
	location.hash === '#'+hash || (location.hash = '#'+hash)
	}).throttle(800)
set_hash()

var 𐅰𐅝 = function(){ hash===$('#note').val() || set_hash(); !document.hidden && setTimeout(𐅰𐅝,0.1*1e3) }
𐅰𐅝(); $.on_view(𐅰𐅝)

// use http://www.opensearch.org/

</script>
